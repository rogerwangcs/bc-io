{"version":3,"sources":["screens/MainMenu.jsx","screens/Lobby.jsx","components/Player.jsx","screens/GameContainer.jsx","App.jsx","index.js"],"names":["SMainMenu","styled","div","particleParams","number","value","density","enable","value_area","color","shape","type","stroke","width","polygon","nb_sides","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","StyledParticles","SButton","MainMenu","props","state","Fragment","params","onClick","history","href","target","rel","Component","withRouter","SLobby","Lobby","onInput","e","preventDefault","setState","name","enterGame","length","joinServer","substring","localStorage","setItem","alert","getItem","this","queued","style","fontSize","onChange","placeholder","SPlayer","playerZ","x","y","Player","dat","player","playerColor","id","localPlayerId","socketUrl","process","PORT","SGameContainer","SJoyStick","GameContainer","playerName","socket","io","query","setTimeout","activateSockets","emit","on","gameState","localPlayerName","componentWillUnmount","disconnect","handleMove","event","xJoy","yJoy","handleStop","setName","players","Object","keys","map","playerId","key","baseColor","stickColor","throttle","stop","App","className","exact","path","component","from","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be412894.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Particles from \"react-particles-js\";\nimport styled from \"styled-components\";\n\nconst theme = {\n  primary: \"#2453c9\",\n  creme: \"#fffcf5\"\n};\n\nconst SMainMenu = styled.div`\n  position: relative;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n\n  padding-top: 10vh;\n\n  h1 {\n    color: white;\n    font-size: 5em;\n    margin-bottom: 10vh;\n  }\n\n  @media (max-width: 500px) {\n    h1 {\n      font-size: 2.5em;\n      margin: 15px 0px 10vh;\n    }\n  }\n`;\n\nconst particleParams = {\n  number: {\n    value: 1,\n    density: {\n      enable: true,\n      value_area: 800\n    }\n  },\n  color: {\n    value: \"#ffffff\"\n  },\n  shape: {\n    type: \"circle\",\n    stroke: {\n      width: 0,\n      color: \"#000000\"\n    },\n    polygon: {\n      nb_sides: 5\n    }\n  },\n  opacity: {\n    value: 1,\n    random: false,\n    anim: {\n      enable: false,\n      speed: 1,\n      opacity_min: 0.1,\n      sync: false\n    }\n  },\n  size: {\n    value: 10,\n    random: true,\n    anim: {\n      enable: false,\n      speed: 40,\n      size_min: 0.1,\n      sync: false\n    }\n  },\n  line_linked: {\n    enable: true,\n    distance: 150,\n    color: \"#ffffff\",\n    opacity: 1,\n    width: 1\n  },\n  move: {\n    enable: true,\n    speed: 6,\n    direction: \"none\",\n    random: false,\n    straight: false,\n    out_mode: \"out\",\n    bounce: false,\n    attract: {\n      enable: false,\n      rotateX: 600,\n      rotateY: 1200\n    }\n  },\n  interactivity: {\n    detect_on: \"canvas\",\n    events: {\n      onhover: {\n        enable: false,\n        mode: \"repulse\"\n      },\n      onclick: {\n        enable: false,\n        mode: \"push\"\n      },\n      resize: true\n    },\n    modes: {\n      grab: {\n        distance: 400,\n        line_linked: {\n          opacity: 1\n        }\n      },\n      bubble: {\n        distance: 400,\n        size: 40,\n        duration: 2,\n        opacity: 8,\n        speed: 3\n      },\n      repulse: {\n        distance: 200,\n        duration: 0.4\n      },\n      push: {\n        particles_nb: 4\n      },\n      remove: {\n        particles_nb: 2\n      }\n    }\n  }\n};\n\nconst StyledParticles = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  z-index: 0;\n`;\n\nconst SButton = styled.div`\n  div {\n    display: inline-block;\n    background-color: ${theme.primary};\n    margin: 15px;\n    padding: 15px 50px;\n    border-radius: 50px;\n    p,\n    a {\n      transition: all 100ms ease-out;\n      font-size: 1.5em;\n      color: white;\n    }\n\n    :hover {\n      cursor: pointer;\n      p,\n      a {\n        color: limegreen;\n      }\n    }\n  }\n`;\n\nclass MainMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <StyledParticles>\n          <Particles params={particleParams} />\n        </StyledParticles>\n        <SMainMenu>\n          <h1>BC.IO</h1>\n          <SButton onClick={() => this.props.history.push(\"/game\")}>\n            <div>\n              <p>Compete</p>\n            </div>\n          </SButton>\n          <SButton>\n            <div>\n              <a\n                href=\"https://github.com/rogerwangcs/bc-io\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Source Code\n              </a>\n            </div>\n          </SButton>\n        </SMainMenu>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(MainMenu);\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst SLobby = styled.div`\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n\n  h1 {\n    color: white;\n    font-size: 5em;\n    margin: 100px;\n  }\n  h2 {\n    color: white;\n    font-size: 2em;\n    margin: 100px;\n  }\n\n  .input {\n    width: 100px;\n  }\n`;\n\nclass Lobby extends Component {\n  constructor(props) {\n    super(props);\n\n    let name = \"\";\n    if (localStorage.getItem(\"playerName\") !== null) {\n      name = localStorage.getItem(\"playerName\");\n    }\n\n    this.state = {\n      name: name\n    };\n  }\n\n  onInput = e => {\n    e.preventDefault();\n    this.setState({ name: e.target.value });\n  };\n\n  enterGame = () => {\n    if (this.state.name.length > 0) {\n      this.props.joinServer(this.state.name.substring(0, 12));\n      localStorage.setItem(\"playerName\", this.state.name);\n    } else {\n      alert(\"Enter a name\");\n    }\n  };\n\n  render() {\n    return (\n      <SLobby>\n        <h1>Lobby</h1>\n        {this.state.queued ? (\n          <React.Fragment>\n            <h2>Matching with Opponents...</h2>\n            <button\n              style={{ fontSize: \"36px\" }}\n              onClick={() => {\n                this.props.history.push(\"/\");\n              }}\n            >\n              Cancel\n            </button>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <input\n              value={this.state.name}\n              onChange={this.onInput}\n              placeholder=\"Your name\"\n              style={{ fontSize: \"36px\" }}\n            ></input>\n            <button\n              style={{ fontSize: \"36px\" }}\n              onClick={() => this.enterGame()}\n            >\n              Play\n            </button>\n          </React.Fragment>\n        )}\n      </SLobby>\n    );\n  }\n}\n\nexport default Lobby;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst SPlayer = styled.div`\n  z-index: ${props => props.playerZ};\n  position: absolute;\n  width: 25px;\n  height: 25px;\n  background-color: ${props => props.color};\n  border-radius: 25px;\n\n  left: ${props => props.x + \"px\"};\n  top: ${props => props.y + \"px\"};\n\n  p {\n    color: white;\n    transform: translate(-50%, -50%);\n    font-size: 12px;\n  }\n`;\n\nconst Player = props => {\n  let dat = props.player;\n  let playerColor = dat.id === props.localPlayerId ? \"blue\" : \"lightblue\";\n  let playerZ = dat.id === props.localPlayerId ? \"2\" : \"0\";\n  return (\n    <SPlayer playerZ={playerZ} color={playerColor} x={dat.x} y={dat.y}>\n      <p>{dat.name}</p>\n    </SPlayer>\n  );\n};\n\nexport default Player;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { withRouter } from \"react-router-dom\";\nimport io from \"socket.io-client\";\n\nimport { Joystick } from \"react-joystick-component\";\n\nimport Lobby from \"./Lobby.jsx\";\nimport Player from \"../components/Player\";\n\nconst socketUrl = \"https://localhost:\" + process.env.PORT || 4000;\n// const socketUrl = \"http://localhost:4000/\";\n// const socketUrl = \"136.167.87.51:4000/\";\n\nconst SGameContainer = styled.div`\n  width: 370px;\n  height: 635px;\n  border: 1px solid black;\n\n  background: rgb(58, 55, 87);\n  background: radial-gradient(\n    circle,\n    rgba(58, 55, 87, 1) 0%,\n    rgba(148, 187, 233, 1) 100%\n  );\n`;\n\nconst SJoyStick = styled.div`\n  z-index: 10;\n  position: fixed;\n  bottom: 25px;\n  left: 50%;\n  transform: translateX(-50%);\n`;\n\nclass GameContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      socket: null,\n      gameState: null,\n      localPlayerId: null,\n      localPlayerName: \"\"\n    };\n  }\n\n  joinServer = playerName => {\n    this.setState(\n      {\n        socket: io(socketUrl, {\n          query: {\n            name: playerName\n          }\n        })\n      },\n      () => {\n        setTimeout(() => {\n          this.activateSockets(playerName);\n        }, 10);\n      }\n    );\n  };\n\n  activateSockets = playerName => {\n    this.state.socket.emit(\"clientGameState\");\n    this.state.socket.on(\"serverGameState\", gameState => {\n      this.setState({\n        gameState: gameState,\n        localPlayerId: this.state.socket.id,\n        localPlayerName: playerName\n      });\n    });\n\n    this.state.socket.on(\"updateState\", gameState => {\n      this.setState({\n        gameState: gameState\n      });\n    });\n  };\n\n  componentWillUnmount = () => {\n    if (this.state.socket) {\n      this.state.socket.disconnect();\n    }\n  };\n\n  handleMove = event => {\n    // console.log(event);\n    const xJoy = event.x;\n    const yJoy = event.y;\n    this.state.socket.emit(\"clientJoy\", xJoy, yJoy);\n  };\n\n  handleStop = event => {\n    // console.log(event);\n    this.state.socket.emit(\"clientStopPlayer\", this.state.localPlayerId);\n  };\n\n  render() {\n    if (this.state.gameState == null) {\n      return <Lobby joinServer={this.joinServer} setName={this.setName} />;\n    }\n\n    const players = Object.keys(this.state.gameState.players).map(playerId => {\n      return (\n        <Player\n          key={playerId}\n          localPlayerId={this.state.localPlayerId}\n          player={this.state.gameState.players[playerId]}\n        />\n      );\n    });\n\n    return (\n      <SGameContainer>\n        <div>{players}</div>\n\n        <SJoyStick>\n          <Joystick\n            size={125}\n            baseColor=\"rgba(150,150,150,0.75)\"\n            stickColor=\"rgb(230,230,230)\"\n            throttle={50}\n            move={this.handleMove}\n            stop={this.handleStop}\n          ></Joystick>\n        </SJoyStick>\n      </SGameContainer>\n    );\n  }\n}\n\nexport default withRouter(GameContainer);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\n\nimport MainMenu from \"./screens/MainMenu\";\nimport GameContainer from \"./screens/GameContainer.jsx\";\n\nconst socket = null;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Switch>\n            <Route\n              exact\n              path={process.env.PUBLIC_URL + \"/\"}\n              component={MainMenu}\n            />\n            <Route\n              exact\n              path={process.env.PUBLIC_URL + \"/game\"}\n              component={() => <GameContainer socket={socket} />}\n            />\n            <Redirect\n              from={process.env.PUBLIC_URL + \"/*\"}\n              to={process.env.PUBLIC_URL + \"/\"}\n            />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}